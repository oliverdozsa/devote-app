<div *ngIf="!isWorking && reason != RejectReason.None" class="container text-center">
  <h5 *ngIf="reason == RejectReason.VotingIsPrivateButUserIsUnauthenticated" class="text-center">
    you're not allowed to view results of this voting; try logging in
  </h5>
  <h5 *ngIf="reason == RejectReason.VotingIsPrivateAndUserIsNotAllowed" class="text-center">
    voting is private; you can't view its results
  </h5>
  <h5 *ngIf="reason == RejectReason.VotingIsStillEncrypted" class="text-center">
    voting is still encrypted; you can't view its results yet. try again when encryption expires
  </h5>
  <h5 *ngIf="reason == RejectReason.Unknown" class="text-center">
    something went wrong...☹️
  </h5>
</div>

<div *ngIf="reason == RejectReason.None && chartHandling.hasTheme" [nbSpinner]="isVotingReceived && isWorking"
     nbSpinnerSize="giant" nbSpinnerMessage="getting results...">
  <h4>{{voting.title}}</h4>
  <div *ngFor="let poll of voting.polls">
    <div class="d-flex align-items-center">
      <div class="me-auto">
        <h5>{{poll.question}}</h5>
      </div>
      <div>
        <button *ngIf="doesResultExist" nbButton size="small" status="primary" (click)="chartHandling.toggleChartOf(poll)">
          <nb-icon [icon]="getIconChartForButton(poll)"></nb-icon>
        </button>
      </div>
    </div>

    <div echarts [options]="chartHandling.getEChartOptionsOf(poll)"></div>
  </div>
</div>

